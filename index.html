<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js" integrity="sha512-w1Bktzax55ZbjW5Mqjz8+mKz4KqRjEUU35Dpq/ath29yskKqIGwNIHiFNp03m/OiJWDXvdQ1/g6aV+l4PeVO7Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="SETTINGS.js"></script>
        <script src="UI.js"></script>
        <script src="LEVELS.js"></script>
        <script src="TILES.js"></script>
        <title> Kitten Tower Defense </title>
    </head>
    <body style="margin:0 0 0 0;">
        <script>
            let frameAverage = 0;
            let CANVAS;
            let STATE = 0;
            let loadOrder;

            // Wrapper Code
            function GameDraw(mouseClick=true,ui=null)
            {
                if (Level==1){LVL1.draw(mouseClick,ui);}
            }

            function TitleScreen(event=true)
            {
                push();
                fill(255);
                noStroke();
                textAlign(CENTER,CENTER);
                textSize(width/10)
                text("Kitten Tower Defense",width/2,height/3);
                textSize(width/20)
                text("Play!",width/2,height/3*2);
                pop();
                if (event)
                {
                    STATE++;
                }
            }

            let Level = 1;
            let LVL1 = new Level1();
            let ui;
            loadOrder = [TitleScreen,GameDraw,function(e){}];
            
            function setup()
            {
                ui = new UI();
                CANVAS = createCanvas(windowWidth,windowHeight);
                CANVAS.mouseClicked(function(){
                    loadOrder[STATE]();
                });
                STATE = 0;
            }

            function draw()
            {
                background(0);
                loadOrder[STATE](false,ui);
            }

            // For resizing canvas
            function windowResized()
            {
                resizeCanvas(windowWidth,windowHeight);
            }
        </script>
    </body>
</html>